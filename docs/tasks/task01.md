# T-01 Добавление блюда в корзину

### Материалы к задаче

Use case: [UC-04 Добавление блюда в корзину](../requirements/uc04.md)

Интерфейсы: [WF-01 Главный экран. Список категорий меню](../user_interface/wf01.md), [WF-02 Категория меню. Список блюд](../user_interface/wf02.md),  [WF-03 Карточка блюда](../user_interface/wf03.md)

API методы: Получение списка категорий меню, Получение списка блюд, Получение данных о блюде, Добавление блюда в корзину
### Тест-кейсы

#### **`TC-01.01`** Добавление в корзину простого блюда из меню. Еще нет добавленных блюд

Предусловия

1. Кассовый день открыт.
3. Приложение запущено, открыт главный экран.
4. Ни одно блюдо не добавлено в корзину.

Постусловия

1. Простое блюдо добавлено в корзину.

| Шаг | Действие                                          | Ожидаемый результат                                                                                                                                                                                                                                    |
| --- | ------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 1   | Открыть категорию меню                            | Отображается список доступных блюд из выбранной категории.                                                                                                                                                                                             |
| 2   | В ячейке простого блюда нажать кнопку «В корзину» | В ячейке блюда вместо кнопки «В корзину» отображаются количество экземпляров блюда и кнопки –/+.<br>На экране меню появляется элемент «Корзина», в котором отображаются количество добавленных блюд (1) и сумма заказа (стоимость добавленного блюда). |
| 3   | Нажать на элемент «Корзина»                       | Открывается корзина. В ней отображается одно добавленное блюдо. Сумма заказа равна стоимости этого блюда.                                                                                                                                              |

#### **`TC-01.02`** Добавление в корзину простого блюда из меню. Уже есть добавленные блюда

Предусловия

1. Кассовый день открыт.
3. Приложение запущено, открыт главный экран.
4. В корзину добавлено как минимум одно блюдо.

Постусловия

1. Простое блюдо добавлено в корзину.

| Шаг | Действие                                          | Ожидаемый результат                                                                                                                                                                                                              |
| --- | ------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1   | Открыть категорию меню                            | Отображается список доступных блюд из выбранной категории.                                                                                                                                                                       |
| 2   | В ячейке простого блюда нажать кнопку «В корзину» | В ячейке блюда вместо кнопки «В корзину» отображаются количество экземпляров блюда и кнопки –/+.<br>В элементе «Корзина» количество добавленных блюд увеличилось на 1, сумма заказа увеличилась на стоимость добавленного блюда. |
| 3   | Нажать на элемент «Корзина»                       | Открывается корзина. В ней помимо ранее добавленных отображается новое добавленное блюдо. Сумма заказа увеличилась на стоимость этого блюда.                                                                                     |

#### **`TC-01.03`** Добавление в корзину простого блюда из карточки блюда

Предусловия

1. Кассовый день открыт.
3. Приложение запущено, открыт главный экран.
4. В корзину добавлено как минимум одно блюдо.

Постусловия

1. Простое блюдо добавлено в корзину.

| Шаг | Действие                                            | Ожидаемый результат                                                                                                                                                                                                                                                                                         |
| --- | --------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1   | Открыть категорию меню                              | Отображается список доступных блюд из выбранной категории.                                                                                                                                                                                                                                                  |
| 2   | Нажать на ячейке простого блюда                     | Открывается карточка простого блюда.                                                                                                                                                                                                                                                                        |
| 3   | В карточке простого блюда нажать кнопку «В корзину» | В карточке блюда вместо кнопки «В корзину» отображаются количество экземпляров блюда и кнопки –/+.                                                                                                                                                                                                          |
| 4   | Выйти из карточки блюда                             | Отображается список доступных блюд из выбранной категории.<br>В ячейке добавленного блюда вместо кнопки «В корзину» отображаются количество экземпляров блюда и кнопки –/+.<br>В элементе «Корзина» количество добавленных блюд увеличилось на 1, сумма заказа увеличилась на стоимость добавленного блюда. |
| 5   | Нажать на элемент «Корзина»                         | Открывается корзина. В ней отображается новое добавленное блюдо. Сумма заказа увеличилась на стоимость этого блюда.                                                                                                                                                                                         |

#### **`TC-01.04`** Добавление в корзину составного блюда из меню

Предусловия

1. Кассовый день открыт.
3. Приложение запущено, открыт главный экран.
4. В корзину добавлено как минимум одно блюдо.

Постусловия

1. Составное блюдо добавлено в корзину.

| Шаг | Действие                                                             | Ожидаемый результат                                                                                                                                                                                                                                                                                         |
| --- | -------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1   | Открыть категорию меню                                               | Отображается список доступных блюд из выбранной категории.                                                                                                                                                                                                                                                  |
| 2   | В ячейке составного блюда нажать кнопку «В корзину»                  | Открывается карточка составного блюда. В карточке отображается список ингредиентов.                                                                                                                                                                                                                         |
| 3   | Нажать кнопку «В корзину» в карточке составного блюда                | Отображается ошибка: нужно выбрать определенное количество ингредиентов (может отличаться в зависимости от блюда).                                                                                                                                                                                          |
| 4   | Нажать кнопку «Добавить» в ячейке одного или нескольких ингредиентов | Кнопка «Добавить» изменяется на «Убрать». Сумма блюда увеличивается на стоимость добавленных ингредиентов.                                                                                                                                                                                                  |
| 5   | Нажать кнопку «В корзину» в карточке составного блюда                | Вместо кнопки «В корзину» отображается количество заказанных экземпляров блюда и кнопки «+» и «–».                                                                                                                                                                                                          |
| 6   | Выйти из карточки блюда                                              | Отображается список доступных блюд из выбранной категории.<br>В ячейке добавленного блюда вместо кнопки «В корзину» отображаются количество экземпляров блюда и кнопки –/+.<br>В элементе «Корзина» количество добавленных блюд увеличилось на 1, сумма заказа увеличилась на стоимость добавленного блюда. |
| 7   | Нажать на элемент «Корзина»                                          | Открывается корзина. В ней отображается новое добавленное блюдо. Сумма заказа увеличилась на стоимость этого блюда.                                                                                                                                                                                         |

#### **`TC-01.05`** Добавление в корзину составного блюда из карточки блюда

Предусловия

1. Кассовый день открыт.
3. Приложение запущено, открыт главный экран.
4. В корзину добавлено как минимум одно блюдо.

Постусловия

1. Составное блюдо добавлено в корзину.

| Шаг | Действие                                                             | Ожидаемый результат                                                                                                                                                                                                                                                                                         |
| --- | -------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1   | Открыть категорию меню                                               | Отображается список доступных блюд из выбранной категории.                                                                                                                                                                                                                                                  |
| 2   | Нажать на ячейке составного блюда                                    | Открывается карточка составного блюда. В карточке отображается список ингредиентов.                                                                                                                                                                                                                         |
| 3   | Нажать кнопку «Добавить» в ячейке одного или нескольких ингредиентов | Кнопка «Добавить» изменяется на «Убрать». Сумма блюда увеличивается на стоимость добавленных ингредиентов.                                                                                                                                                                                                  |
| 4   | Нажать кнопку «В корзину» в карточке составного блюда                | Вместо кнопки «В корзину» отображается количество заказанных экземпляров блюда и кнопки «+» и «–».                                                                                                                                                                                                          |
| 5   | Выйти из карточки блюда                                              | Отображается список доступных блюд из выбранной категории.<br>В ячейке добавленного блюда вместо кнопки «В корзину» отображаются количество экземпляров блюда и кнопки –/+.<br>В элементе «Корзина» количество добавленных блюд увеличилось на 1, сумма заказа увеличилась на стоимость добавленного блюда. |
| 6   | Нажать на элемент «Корзина»                                          | Открывается корзина. В ней отображается новое добавленное блюдо. Сумма заказа увеличилась на стоимость этого блюда.                                                                                                                                                                                         |
